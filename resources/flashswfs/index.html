<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flash Games</title>

    <!-- Ruffle player -->
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>

    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: white;
        text-align: center;
        margin: 20px;
      }

      h1,
      h2 {
        color: #333;
      }

      #buttonContainer {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
      }

      button {
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 10px 15px;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      button:hover {
        background-color: #0056b3;
      }

      #gameContainer {
        margin-top: 30px;
      }

      #downloadLink {
        display: inline-block;
        margin-top: 15px;
        text-decoration: none;
        color: #007bff;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h1>FLASH GAMES</h1>
    <h2>courtesy to @pokemonhacker1337 on discord</h2>

    <div id="buttonContainer"></div>
    <div id="gameContainer"></div>
    <a id="downloadLink" href="#" download>Download .swf</a>

    <script>
      const fileList = [
        "1 on 1 soccer",
        "10 bullets",
        "10 more bullets",
        "13 days after",
        "40xescape",
        "60 seconds burger run",
        "ace gangster taxi",
        "achievement unlocked",
        "achievement unlocked 2",
        "achievement unlocked 3",
        "age of war",
        "age of war 2",
        "alien hominid",
        "amberia",
        "apple shooter",
        "army of ages",
        "avalanche",
        "bash the computer",
        "big red button",
        "bloons td 1",
        "bloons td 2",
        "bloons td 3",
        "bloons td 4",
        "bloons td 5",
        "blosics",
        "blosics 2",
        "blosics 3",
        "bloxorz",
        "cubefield",
        "curveball",
        "deal or no deal",
        "desktop tower defence",
        "doodle god",
        "doodle devil",
        "duck life",
        "duck life 2",
        "duck life 3",
        "duck life 4",
        "earn to die",
        "earn to die 2",
        "factory balls",
        "factory balls 2",
        "factory balls 3",
        "factory balls the christmas edition",
        "fireboy and watergirl",
        "fireboy and watergirl 2",
        "fireboy and watergirl 3",
        "fireboy and watergirl 4",
        "king of buttons",
        "learn to fly",
        "minesweeper",
        "motherload",
        "multitask",
        "orange roulette",
        "pacman",
        "papers please",
        "portal the flash version",
        "ricochet kills",
        "ricochet kills 2",
        "riddle school",
        "riddle school 2",
        "riddle school 3",
        "riddle school 4",
        "riddle school 5",
        "super meat boy",
        "the impossible quiz",
        "this is the only level",
        "this is the only level 2",
        "this is the only level 3",
        "tower of heaven",
        "toss the turtle",
        "world shardest game",
        "world shardest game 2",
        "world shardest game 3",
        "world shardest game 4",
      ];

      const folderPath = "swfs";
      const fileExtension = ".swf";

      const container = document.getElementById("buttonContainer");
      const gameContainer = document.getElementById("gameContainer");
      const downloadLink = document.getElementById("downloadLink");

      fileList.forEach(function (fileName) {
        const cleanedName = fileName.replace(/\s+/g, "_");
        const filePath = `${folderPath}/${cleanedName}${fileExtension}`;

        const button = document.createElement("button");
        button.textContent = fileName;

        button.addEventListener("click", function () {
          // Clear previous game
          gameContainer.innerHTML = "";

          // Create Ruffle player
          const ruffle = window.RufflePlayer.newest();
          const player = ruffle.createPlayer();
          gameContainer.appendChild(player);
          player.load(filePath);

          // Update download link
          downloadLink.href = filePath;
          downloadLink.download = cleanedName + fileExtension;
          downloadLink.textContent = `Download "${fileName}" (.swf)`;
        });

        container.appendChild(button);
      });
    </script>
  </body>
</html>
